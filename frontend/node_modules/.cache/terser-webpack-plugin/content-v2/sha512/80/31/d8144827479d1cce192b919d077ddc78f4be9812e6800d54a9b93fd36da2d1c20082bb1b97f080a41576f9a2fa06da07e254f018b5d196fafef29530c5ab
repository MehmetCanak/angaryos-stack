{"map":"{\"version\":3,\"sources\":[\"5-es2015.9a4e1e4d0e49ad16b0b5.js\"],\"names\":[\"window\",\"push\",\"dB9c\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"index_esm\",\"dist_index_esm\",\"__assign\",\"Object\",\"assign\",\"t\",\"s\",\"i\",\"n\",\"arguments\",\"length\",\"p\",\"prototype\",\"hasOwnProperty\",\"call\",\"apply\",\"this\",\"__awaiter\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"Promise\",\"resolve\",\"reject\",\"fulfilled\",\"value\",\"step\",\"next\",\"e\",\"rejected\",\"result\",\"done\",\"then\",\"__generator\",\"body\",\"f\",\"y\",\"g\",\"_\",\"label\",\"sent\",\"trys\",\"ops\",\"verb\",\"throw\",\"return\",\"Symbol\",\"iterator\",\"v\",\"op\",\"TypeError\",\"pop\",\"__values\",\"o\",\"m\",\"__read\",\"ar\",\"error\",\"index_esm_a\",\"util_dist_index_esm\",\"idb\",\"ERROR_DESCRIPTION_MAP\",\"ERROR_FACTORY\",\"isServerError\",\"code\",\"includes\",\"getInstallationsEndpoint\",\"_a\",\"INSTALLATIONS_API_URL\",\"projectId\",\"extractAuthTokenInfoFromResponse\",\"response\",\"token\",\"requestStatus\",\"expiresIn\",\"responseExpiresIn\",\"Number\",\"replace\",\"creationTime\",\"Date\",\"now\",\"getErrorFromResponse\",\"requestName\",\"responseJson\",\"errorData\",\"json\",\"create\",\"serverCode\",\"serverMessage\",\"message\",\"serverStatus\",\"status\",\"getHeaders\",\"Headers\",\"Content-Type\",\"Accept\",\"x-goog-api-key\",\"apiKey\",\"getHeadersWithAuth\",\"appConfig\",\"refreshToken\",\"headers\",\"append\",\"INTERNAL_AUTH_VERSION\",\"getAuthorizationHeader\",\"retryIfServerError\",\"fn\",\"createInstallationRequest\",\"fid\",\"endpoint\",\"request\",\"responseValue\",\"_b\",\"method\",\"JSON\",\"stringify\",\"authVersion\",\"appId\",\"sdkVersion\",\"fetch\",\"ok\",\"registrationStatus\",\"authToken\",\"sleep\",\"ms\",\"setTimeout\",\"VALID_FID_PATTERN\",\"generateFid\",\"fidByteArray\",\"Uint8Array\",\"self\",\"crypto\",\"msCrypto\",\"getRandomValues\",\"array\",\"btoa\",\"String\",\"fromCharCode\",\"concat\",\"__spread\",\"substr\",\"encode\",\"test\",\"getKey\",\"appName\",\"fidChangeCallbacks\",\"Map\",\"fidChanged\",\"key\",\"callFidChangeCallbacks\",\"channel\",\"getBroadcastChannel\",\"postMessage\",\"closeBroadcastChannel\",\"broadcastFidChange\",\"e_1\",\"callbacks\",\"get\",\"callbacks_1\",\"callbacks_1_1\",\"callback\",\"e_1_1\",\"broadcastChannel\",\"BroadcastChannel\",\"onmessage\",\"data\",\"size\",\"close\",\"instance\",\"OBJECT_STORE_NAME\",\"dbPromise\",\"getDbPromise\",\"upgradeDB\",\"oldVersion\",\"createObjectStore\",\"set\",\"db\",\"tx\",\"objectStore\",\"oldValue\",\"transaction\",\"put\",\"complete\",\"remove\",\"delete\",\"update\",\"updateFn\",\"store\",\"newValue\",\"undefined\",\"getInstallationEntry\",\"registrationPromise\",\"installationEntry\",\"oldEntry\",\"clearTimedOutRequest\",\"updateOrCreateInstallationEntry\",\"entryWithPromise\",\"navigator\",\"onLine\",\"inProgressEntry\",\"registrationTime\",\"registeredInstallationEntry\",\"customData\",\"registerInstallation\",\"waitUntilFidRegistration\",\"triggerRegistrationIfNecessary\",\"entry\",\"updateInstallationRequest\",\"generateAuthTokenRequest\",\"platformLoggerProvider\",\"platformLogger\",\"getGenerateAuthTokenEndpoint\",\"getImmediate\",\"optional\",\"getPlatformInfoString\",\"installation\",\"refreshAuthToken\",\"dependencies\",\"forceRefresh\",\"tokenPromise\",\"isEntryRegistered\",\"oldAuthToken\",\"isAuthTokenExpired\",\"updateAuthTokenRequest\",\"waitUntilAuthTokenRequest\",\"inProgressAuthToken\",\"requestTime\",\"makeAuthTokenRequestInProgressEntry\",\"updatedInstallationEntry\",\"fetchAuthTokenFromServer\",\"completeInstallationRegistration\",\"deleteInstallationRequest\",\"getDeleteEndpoint\",\"getMissingValueError\",\"valueName\",\"INTERNAL\",\"registerComponent\",\"container\",\"app\",\"getProvider\",\"options\",\"name\",\"configKeys_1\",\"configKeys_1_1\",\"keyName\",\"extractAppConfig\",\"getId\",\"catch\",\"console\",\"getToken\",\"deleteInstallation\",\"onIdChange\",\"callbackSet\",\"Set\",\"add\",\"addCallback\",\"removeCallback\",\"registerVersion\",\"dist_index_esm_a\",\"tslib_es6_assign\",\"tslib_es6_awaiter\",\"tslib_es6_generator\",\"tslib_es6_values\",\"tslib_es6_read\",\"ERROR_MAP\",\"index_esm_ERROR_FACTORY\",\"DEFAULT_VAPID_KEY\",\"MessageType\",\"arrayToBase64\",\"uint8Array\",\"tslib_es6_spread\",\"base64ToArray\",\"base64String\",\"base64\",\"repeat\",\"rawData\",\"atob\",\"outputArray\",\"charCodeAt\",\"migrateOldDatabase\",\"senderId\",\"tokenDetails\",\"_this\",\"indexedDB\",\"databases\",\"map\",\"oldDetails\",\"objectStoreNames\",\"contains\",\"index\",\"clear\",\"auth\",\"p256dh\",\"fcmToken\",\"createTime\",\"subscriptionOptions\",\"swScope\",\"vapidKey\",\"checkTokenDetails\",\"index_esm_dbPromise\",\"index_esm_getDbPromise\",\"upgradeDb\",\"dbGet\",\"firebaseDependencies\",\"oldTokenDetails\",\"index_esm_getKey\",\"dbSet\",\"dbRemove\",\"requestGetToken\",\"subscribeOptions\",\"responseData\",\"err_1\",\"index_esm_getHeaders\",\"getBody\",\"getEndpoint\",\"errorInfo\",\"requestUpdateToken\",\"updateOptions\",\"err_2\",\"requestDeleteToken\",\"unsubscribeOptions\",\"err_3\",\"ENDPOINT\",\"installations\",\"x-goog-firebase-installations-auth\",\"web\",\"applicationPubKey\",\"index_esm_getToken\",\"swRegistration\",\"pushSubscription\",\"Notification\",\"permission\",\"getPushSubscription\",\"scope\",\"getNewToken\",\"isEndpointEqual\",\"currentOptions\",\"dbOptions\",\"warn\",\"updateToken\",\"deleteToken\",\"pushManager\",\"getSubscription\",\"unsubscribe\",\"updatedToken\",\"updatedTokenDetails\",\"e_2\",\"subscription\",\"subscribe\",\"userVisibleOnly\",\"applicationServerKey\",\"isConsoleMessage\",\"index_esm_sleep\",\"index_esm_SwController\",\"SwController\",\"isOnBackgroundMessageUsed\",\"bgMessageHandler\",\"addEventListener\",\"waitUntil\",\"onPush\",\"onSubChange\",\"onNotificationClick\",\"defineProperty\",\"enumerable\",\"configurable\",\"setBackgroundMessageHandler\",\"onBackgroundMessage\",\"nextOrObserver\",\"_c\",\"registration\",\"requestPermission\",\"usePublicVapidKey\",\"useServiceWorker\",\"onMessage\",\"onTokenRefresh\",\"event\",\"internalPayload\",\"clientList\",\"isNotificationShown\",\"payload\",\"err\",\"getMessagePayloadInternal\",\"getClientList\",\"debug\",\"TAG\",\"some\",\"client\",\"visibilityState\",\"url\",\"startsWith\",\"hasVisibleClients\",\"sendMessagePayloadInternalToWindows\",\"notification\",\"showNotification\",\"wrapInternalPayload\",\"from\",\"collapseKey\",\"collapse_key\",\"messagePayloadInternal\",\"title\",\"image\",\"propagateNotificationPayload\",\"propagateDataPayload\",\"fcmOptions\",\"link\",\"analyticsLabel\",\"analytics_label\",\"propagateFcmOptions\",\"externalizePayload\",\"newSubscription\",\"originUrl\",\"action\",\"stopImmediatePropagation\",\"click_action\",\"location\",\"origin\",\"getLink\",\"URL\",\"href\",\"host\",\"getWindowClient\",\"clients\",\"openWindow\",\"focus\",\"messageType\",\"NOTIFICATION_CLICKED\",\"isFirebaseMessaging\",\"wrappedInternalPayload\",\"clientList_1\",\"clientList_1_1\",\"clientUrl\",\"PUSH_RECEIVED\",\"clientList_2\",\"clientList_2_1\",\"e_2_1\",\"matchAll\",\"type\",\"includeUncontrolled\",\"notificationPayloadInternal\",\"actions\",\"maxActions\",\"index_esm_WindowController\",\"WindowController\",\"onMessageCallback\",\"serviceWorker\",\"messageEventListener\",\"dataPayload\",\"stripInternalFields\",\"logEvent\",\"getVapidKey\",\"getSwReg\",\"updateVapidKey\",\"updateSwReg\",\"serviceWorkerRegistration\",\"registerDefaultSw\",\"ServiceWorkerRegistration\",\"register\",\"browserErrorMessage\",\"permissionResult\",\"eventType\",\"Error\",\"getEventType\",\"analyticsProvider\",\"message_id\",\"message_name\",\"message_time\",\"message_device_time\",\"Math\",\"floor\",\"index_esm_getMissingValueError\",\"NAMESPACE_EXPORTS\",\"isSupported\",\"PushSubscription\",\"cookieEnabled\",\"messagingSenderId\",\"index_esm_extractAppConfig\",\"setServiceProps\",\"nbvr\",\"exports\",\"toArray\",\"arr\",\"Array\",\"slice\",\"promisifyRequest\",\"onsuccess\",\"onerror\",\"promisifyRequestCall\",\"obj\",\"args\",\"promisifyCursorRequestCall\",\"Cursor\",\"proxyProperties\",\"ProxyClass\",\"targetProp\",\"properties\",\"forEach\",\"prop\",\"val\",\"proxyRequestMethods\",\"Constructor\",\"proxyMethods\",\"proxyCursorRequestMethods\",\"Index\",\"_index\",\"cursor\",\"_cursor\",\"_request\",\"ObjectStore\",\"_store\",\"Transaction\",\"idbTransaction\",\"_tx\",\"oncomplete\",\"onabort\",\"UpgradeDB\",\"_db\",\"DB\",\"IDBIndex\",\"IDBCursor\",\"methodName\",\"createIndex\",\"IDBObjectStore\",\"IDBTransaction\",\"IDBDatabase\",\"funcName\",\"nativeObject\",\"getAll\",\"query\",\"count\",\"items\",\"iterateCursor\",\"continue\",\"openDb\",\"version\",\"upgradeCallback\",\"onupgradeneeded\",\"deleteDb\",\"factory\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{dB9c:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var index_esm=__webpack_require__(\"zIRd\"),dist_index_esm=__webpack_require__(\"/6Yf\"),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var s=\"function\"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&\"number\"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function __read(o,n){var m=\"function\"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}var index_esm_a,util_dist_index_esm=__webpack_require__(\"qOnz\"),idb=__webpack_require__(\"nbvr\"),ERROR_DESCRIPTION_MAP=((index_esm_a={})[\"missing-app-config-values\"]='Missing App configuration value: \"{$valueName}\"',index_esm_a[\"not-registered\"]=\"Firebase Installation is not registered.\",index_esm_a[\"installation-not-found\"]=\"Firebase Installation not found.\",index_esm_a[\"request-failed\"]='{$requestName} request failed with error \"{$serverCode} {$serverStatus}: {$serverMessage}\"',index_esm_a[\"app-offline\"]=\"Could not process request. Application offline.\",index_esm_a[\"delete-pending-registration\"]=\"Can't delete installation while there is a pending registration request.\",index_esm_a),ERROR_FACTORY=new util_dist_index_esm.b(\"installations\",\"Installations\",ERROR_DESCRIPTION_MAP);function isServerError(error){return error instanceof util_dist_index_esm.c&&error.code.includes(\"request-failed\")}function getInstallationsEndpoint(_a){return\"https://firebaseinstallations.googleapis.com/v1/projects/\"+_a.projectId+\"/installations\"}function extractAuthTokenInfoFromResponse(response){return{token:response.token,requestStatus:2,expiresIn:(responseExpiresIn=response.expiresIn,Number(responseExpiresIn.replace(\"s\",\"000\"))),creationTime:Date.now()};var responseExpiresIn}function getErrorFromResponse(requestName,response){return __awaiter(this,void 0,void 0,(function(){var responseJson,errorData;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,response.json()];case 1:return responseJson=_a.sent(),[2,ERROR_FACTORY.create(\"request-failed\",{requestName:requestName,serverCode:(errorData=responseJson.error).code,serverMessage:errorData.message,serverStatus:errorData.status})]}}))}))}function getHeaders(_a){return new Headers({\"Content-Type\":\"application/json\",Accept:\"application/json\",\"x-goog-api-key\":_a.apiKey})}function getHeadersWithAuth(appConfig,_a){var refreshToken=_a.refreshToken,headers=getHeaders(appConfig);return headers.append(\"Authorization\",function(refreshToken){return\"FIS_v2 \"+refreshToken}(refreshToken)),headers}function retryIfServerError(fn){return __awaiter(this,void 0,void 0,(function(){var result;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,fn()];case 1:return(result=_a.sent()).status>=500&&result.status<600?[2,fn()]:[2,result]}}))}))}function createInstallationRequest(appConfig,_a){var fid=_a.fid;return __awaiter(this,void 0,void 0,(function(){var endpoint,headers,request,response,responseValue;return __generator(this,(function(_b){switch(_b.label){case 0:return endpoint=getInstallationsEndpoint(appConfig),headers=getHeaders(appConfig),request={method:\"POST\",headers:headers,body:JSON.stringify({fid:fid,authVersion:\"FIS_v2\",appId:appConfig.appId,sdkVersion:\"w:0.4.19\"})},[4,retryIfServerError((function(){return fetch(endpoint,request)}))];case 1:return(response=_b.sent()).ok?[4,response.json()]:[3,3];case 2:return[2,{fid:(responseValue=_b.sent()).fid||fid,registrationStatus:2,refreshToken:responseValue.refreshToken,authToken:extractAuthTokenInfoFromResponse(responseValue.authToken)}];case 3:return[4,getErrorFromResponse(\"Create Installation\",response)];case 4:throw _b.sent()}}))}))}function sleep(ms){return new Promise((function(resolve){setTimeout(resolve,ms)}))}var VALID_FID_PATTERN=/^[cdef][\\w-]{21}$/;function generateFid(){try{var fidByteArray=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(fidByteArray),fidByteArray[0]=112+fidByteArray[0]%16;var fid=function(fidByteArray){return(array=fidByteArray,btoa(String.fromCharCode.apply(String,function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}(array))).replace(/\\+/g,\"-\").replace(/\\//g,\"_\")).substr(0,22);var array}(fidByteArray);return VALID_FID_PATTERN.test(fid)?fid:\"\"}catch(_a){return\"\"}}function getKey(appConfig){return appConfig.appName+\"!\"+appConfig.appId}var fidChangeCallbacks=new Map;function fidChanged(appConfig,fid){var key=getKey(appConfig);callFidChangeCallbacks(key,fid),function(key,fid){var channel=getBroadcastChannel();channel&&channel.postMessage({key:key,fid:fid}),closeBroadcastChannel()}(key,fid)}function callFidChangeCallbacks(key,fid){var e_1,_a,callbacks=fidChangeCallbacks.get(key);if(callbacks)try{for(var callbacks_1=__values(callbacks),callbacks_1_1=callbacks_1.next();!callbacks_1_1.done;callbacks_1_1=callbacks_1.next())(0,callbacks_1_1.value)(fid)}catch(e_1_1){e_1={error:e_1_1}}finally{try{callbacks_1_1&&!callbacks_1_1.done&&(_a=callbacks_1.return)&&_a.call(callbacks_1)}finally{if(e_1)throw e_1.error}}}var broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&\"BroadcastChannel\"in self&&((broadcastChannel=new BroadcastChannel(\"[Firebase] FID Change\")).onmessage=function(e){callFidChangeCallbacks(e.data.key,e.data.fid)}),broadcastChannel}function closeBroadcastChannel(){0===fidChangeCallbacks.size&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}var instance,OBJECT_STORE_NAME=\"firebase-installations-store\",dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=Object(idb.openDb)(\"firebase-installations-database\",1,(function(upgradeDB){switch(upgradeDB.oldVersion){case 0:upgradeDB.createObjectStore(OBJECT_STORE_NAME)}}))),dbPromise}function set(appConfig,value){return __awaiter(this,void 0,void 0,(function(){var key,db,tx,objectStore,oldValue;return __generator(this,(function(_a){switch(_a.label){case 0:return key=getKey(appConfig),[4,getDbPromise()];case 1:return db=_a.sent(),tx=db.transaction(OBJECT_STORE_NAME,\"readwrite\"),[4,(objectStore=tx.objectStore(OBJECT_STORE_NAME)).get(key)];case 2:return oldValue=_a.sent(),[4,objectStore.put(value,key)];case 3:return _a.sent(),[4,tx.complete];case 4:return _a.sent(),oldValue&&oldValue.fid===value.fid||fidChanged(appConfig,value.fid),[2,value]}}))}))}function remove(appConfig){return __awaiter(this,void 0,void 0,(function(){var key,db,tx;return __generator(this,(function(_a){switch(_a.label){case 0:return key=getKey(appConfig),[4,getDbPromise()];case 1:return db=_a.sent(),[4,(tx=db.transaction(OBJECT_STORE_NAME,\"readwrite\")).objectStore(OBJECT_STORE_NAME).delete(key)];case 2:return _a.sent(),[4,tx.complete];case 3:return _a.sent(),[2]}}))}))}function update(appConfig,updateFn){return __awaiter(this,void 0,void 0,(function(){var key,db,tx,store,oldValue,newValue;return __generator(this,(function(_a){switch(_a.label){case 0:return key=getKey(appConfig),[4,getDbPromise()];case 1:return db=_a.sent(),tx=db.transaction(OBJECT_STORE_NAME,\"readwrite\"),[4,(store=tx.objectStore(OBJECT_STORE_NAME)).get(key)];case 2:return oldValue=_a.sent(),void 0!==(newValue=updateFn(oldValue))?[3,4]:[4,store.delete(key)];case 3:return _a.sent(),[3,6];case 4:return[4,store.put(newValue,key)];case 5:_a.sent(),_a.label=6;case 6:return[4,tx.complete];case 7:return _a.sent(),!newValue||oldValue&&oldValue.fid===newValue.fid||fidChanged(appConfig,newValue.fid),[2,newValue]}}))}))}function getInstallationEntry(appConfig){return __awaiter(this,void 0,void 0,(function(){var registrationPromise,installationEntry,_a;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,update(appConfig,(function(oldEntry){var installationEntry=function(oldEntry){return clearTimedOutRequest(oldEntry||{fid:generateFid(),registrationStatus:0})}(oldEntry),entryWithPromise=function(appConfig,installationEntry){if(0===installationEntry.registrationStatus){if(!navigator.onLine)return{installationEntry:installationEntry,registrationPromise:Promise.reject(ERROR_FACTORY.create(\"app-offline\"))};var inProgressEntry={fid:installationEntry.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:inProgressEntry,registrationPromise:function(appConfig,installationEntry){return __awaiter(this,void 0,void 0,(function(){var registeredInstallationEntry,e_1;return __generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,7]),[4,createInstallationRequest(appConfig,installationEntry)];case 1:return registeredInstallationEntry=_a.sent(),[2,set(appConfig,registeredInstallationEntry)];case 2:return isServerError(e_1=_a.sent())&&409===e_1.customData.serverCode?[4,remove(appConfig)]:[3,4];case 3:return _a.sent(),[3,6];case 4:return[4,set(appConfig,{fid:installationEntry.fid,registrationStatus:0})];case 5:_a.sent(),_a.label=6;case 6:throw e_1;case 7:return[2]}}))}))}(appConfig,inProgressEntry)}}return 1===installationEntry.registrationStatus?{installationEntry:installationEntry,registrationPromise:waitUntilFidRegistration(appConfig)}:{installationEntry:installationEntry}}(appConfig,installationEntry);return registrationPromise=entryWithPromise.registrationPromise,entryWithPromise.installationEntry}))];case 1:return\"\"!==(installationEntry=_b.sent()).fid?[3,3]:(_a={},[4,registrationPromise]);case 2:return[2,(_a.installationEntry=_b.sent(),_a)];case 3:return[2,{installationEntry:installationEntry,registrationPromise:registrationPromise}]}}))}))}function waitUntilFidRegistration(appConfig){return __awaiter(this,void 0,void 0,(function(){var entry,_a,installationEntry,registrationPromise;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,updateInstallationRequest(appConfig)];case 1:entry=_b.sent(),_b.label=2;case 2:return 1!==entry.registrationStatus?[3,5]:[4,sleep(100)];case 3:return _b.sent(),[4,updateInstallationRequest(appConfig)];case 4:return entry=_b.sent(),[3,2];case 5:return 0!==entry.registrationStatus?[3,7]:[4,getInstallationEntry(appConfig)];case 6:return _a=_b.sent(),installationEntry=_a.installationEntry,(registrationPromise=_a.registrationPromise)?[2,registrationPromise]:[2,installationEntry];case 7:return[2,entry]}}))}))}function updateInstallationRequest(appConfig){return update(appConfig,(function(oldEntry){if(!oldEntry)throw ERROR_FACTORY.create(\"installation-not-found\");return clearTimedOutRequest(oldEntry)}))}function clearTimedOutRequest(entry){return 1===(installationEntry=entry).registrationStatus&&installationEntry.registrationTime+1e4<Date.now()?{fid:entry.fid,registrationStatus:0}:entry;var installationEntry}function generateAuthTokenRequest(_a,installationEntry){var appConfig=_a.appConfig,platformLoggerProvider=_a.platformLoggerProvider;return __awaiter(this,void 0,void 0,(function(){var endpoint,headers,platformLogger,request,response;return __generator(this,(function(_b){switch(_b.label){case 0:return endpoint=function(appConfig,_a){var fid=_a.fid;return getInstallationsEndpoint(appConfig)+\"/\"+fid+\"/authTokens:generate\"}(appConfig,installationEntry),headers=getHeadersWithAuth(appConfig,installationEntry),(platformLogger=platformLoggerProvider.getImmediate({optional:!0}))&&headers.append(\"x-firebase-client\",platformLogger.getPlatformInfoString()),request={method:\"POST\",headers:headers,body:JSON.stringify({installation:{sdkVersion:\"w:0.4.19\"}})},[4,retryIfServerError((function(){return fetch(endpoint,request)}))];case 1:return(response=_b.sent()).ok?[4,response.json()]:[3,3];case 2:return[2,extractAuthTokenInfoFromResponse(_b.sent())];case 3:return[4,getErrorFromResponse(\"Generate Auth Token\",response)];case 4:throw _b.sent()}}))}))}function refreshAuthToken(dependencies,forceRefresh){return void 0===forceRefresh&&(forceRefresh=!1),__awaiter(this,void 0,void 0,(function(){var tokenPromise,entry,_a;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,update(dependencies.appConfig,(function(oldEntry){if(!isEntryRegistered(oldEntry))throw ERROR_FACTORY.create(\"not-registered\");var authToken,oldAuthToken=oldEntry.authToken;if(!forceRefresh&&2===(authToken=oldAuthToken).requestStatus&&!function(authToken){var now=Date.now();return now<authToken.creationTime||authToken.creationTime+authToken.expiresIn<now+36e5}(authToken))return oldEntry;if(1===oldAuthToken.requestStatus)return tokenPromise=function(dependencies,forceRefresh){return __awaiter(this,void 0,void 0,(function(){var entry,authToken;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,updateAuthTokenRequest(dependencies.appConfig)];case 1:entry=_a.sent(),_a.label=2;case 2:return 1!==entry.authToken.requestStatus?[3,5]:[4,sleep(100)];case 3:return _a.sent(),[4,updateAuthTokenRequest(dependencies.appConfig)];case 4:return entry=_a.sent(),[3,2];case 5:return 0===(authToken=entry.authToken).requestStatus?[2,refreshAuthToken(dependencies,forceRefresh)]:[2,authToken]}}))}))}(dependencies,forceRefresh),oldEntry;if(!navigator.onLine)throw ERROR_FACTORY.create(\"app-offline\");var inProgressEntry=function(oldEntry){var inProgressAuthToken={requestStatus:1,requestTime:Date.now()};return __assign(__assign({},oldEntry),{authToken:inProgressAuthToken})}(oldEntry);return tokenPromise=function(dependencies,installationEntry){return __awaiter(this,void 0,void 0,(function(){var authToken,e_1,updatedInstallationEntry;return __generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,8]),[4,generateAuthTokenRequest(dependencies,installationEntry)];case 1:return authToken=_a.sent(),updatedInstallationEntry=__assign(__assign({},installationEntry),{authToken:authToken}),[4,set(dependencies.appConfig,updatedInstallationEntry)];case 2:return _a.sent(),[2,authToken];case 3:return!isServerError(e_1=_a.sent())||401!==e_1.customData.serverCode&&404!==e_1.customData.serverCode?[3,5]:[4,remove(dependencies.appConfig)];case 4:return _a.sent(),[3,7];case 5:return updatedInstallationEntry=__assign(__assign({},installationEntry),{authToken:{requestStatus:0}}),[4,set(dependencies.appConfig,updatedInstallationEntry)];case 6:_a.sent(),_a.label=7;case 7:throw e_1;case 8:return[2]}}))}))}(dependencies,inProgressEntry),inProgressEntry}))];case 1:return entry=_b.sent(),tokenPromise?[4,tokenPromise]:[3,3];case 2:return _a=_b.sent(),[3,4];case 3:_a=entry.authToken,_b.label=4;case 4:return[2,_a]}}))}))}function updateAuthTokenRequest(appConfig){return update(appConfig,(function(oldEntry){if(!isEntryRegistered(oldEntry))throw ERROR_FACTORY.create(\"not-registered\");var authToken;return 1===(authToken=oldEntry.authToken).requestStatus&&authToken.requestTime+1e4<Date.now()?__assign(__assign({},oldEntry),{authToken:{requestStatus:0}}):oldEntry}))}function isEntryRegistered(installationEntry){return void 0!==installationEntry&&2===installationEntry.registrationStatus}function completeInstallationRegistration(appConfig){return __awaiter(this,void 0,void 0,(function(){var registrationPromise;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,getInstallationEntry(appConfig)];case 1:return(registrationPromise=_a.sent().registrationPromise)?[4,registrationPromise]:[3,3];case 2:_a.sent(),_a.label=3;case 3:return[2]}}))}))}function deleteInstallationRequest(appConfig,installationEntry){return __awaiter(this,void 0,void 0,(function(){var endpoint,headers,request,response;return __generator(this,(function(_a){switch(_a.label){case 0:return endpoint=function(appConfig,_a){var fid=_a.fid;return getInstallationsEndpoint(appConfig)+\"/\"+fid}(appConfig,installationEntry),headers=getHeadersWithAuth(appConfig,installationEntry),request={method:\"DELETE\",headers:headers},[4,retryIfServerError((function(){return fetch(endpoint,request)}))];case 1:return(response=_a.sent()).ok?[3,3]:[4,getErrorFromResponse(\"Delete Installation\",response)];case 2:throw _a.sent();case 3:return[2]}}))}))}function getMissingValueError(valueName){return ERROR_FACTORY.create(\"missing-app-config-values\",{valueName:valueName})}(instance=index_esm.a).INTERNAL.registerComponent(new dist_index_esm.a(\"installations\",(function(container){var app=container.getProvider(\"app\").getImmediate(),dependencies={appConfig:function(app){var e_1,_a;if(!app||!app.options)throw getMissingValueError(\"App Configuration\");if(!app.name)throw getMissingValueError(\"App Name\");try{for(var configKeys_1=__values([\"projectId\",\"apiKey\",\"appId\"]),configKeys_1_1=configKeys_1.next();!configKeys_1_1.done;configKeys_1_1=configKeys_1.next()){var keyName=configKeys_1_1.value;if(!app.options[keyName])throw getMissingValueError(keyName)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{configKeys_1_1&&!configKeys_1_1.done&&(_a=configKeys_1.return)&&_a.call(configKeys_1)}finally{if(e_1)throw e_1.error}}return{appName:app.name,projectId:app.options.projectId,apiKey:app.options.apiKey,appId:app.options.appId}}(app),platformLoggerProvider:container.getProvider(\"platform-logger\")};return{app:app,getId:function(){return function(dependencies){return __awaiter(this,void 0,void 0,(function(){var _a,installationEntry,registrationPromise;return __generator(this,(function(_b){switch(_b.label){case 0:return[4,getInstallationEntry(dependencies.appConfig)];case 1:return _a=_b.sent(),installationEntry=_a.installationEntry,(registrationPromise=_a.registrationPromise)?registrationPromise.catch(console.error):refreshAuthToken(dependencies).catch(console.error),[2,installationEntry.fid]}}))}))}(dependencies)},getToken:function(forceRefresh){return function(dependencies,forceRefresh){return void 0===forceRefresh&&(forceRefresh=!1),__awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,completeInstallationRegistration(dependencies.appConfig)];case 1:return _a.sent(),[4,refreshAuthToken(dependencies,forceRefresh)];case 2:return[2,_a.sent().token]}}))}))}(dependencies,forceRefresh)},delete:function(){return function(dependencies){return __awaiter(this,void 0,void 0,(function(){var appConfig,entry;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,update(appConfig=dependencies.appConfig,(function(oldEntry){if(!oldEntry||0!==oldEntry.registrationStatus)return oldEntry}))];case 1:if(!(entry=_a.sent()))return[3,6];if(1!==entry.registrationStatus)return[3,2];throw ERROR_FACTORY.create(\"delete-pending-registration\");case 2:if(2!==entry.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw ERROR_FACTORY.create(\"app-offline\");case 3:return[4,deleteInstallationRequest(appConfig,entry)];case 4:return _a.sent(),[4,remove(appConfig)];case 5:_a.sent(),_a.label=6;case 6:return[2]}}))}))}(dependencies)},onIdChange:function(callback){return function(_a,callback){var appConfig=_a.appConfig;return function(appConfig,callback){getBroadcastChannel();var key=getKey(appConfig),callbackSet=fidChangeCallbacks.get(key);callbackSet||(callbackSet=new Set,fidChangeCallbacks.set(key,callbackSet)),callbackSet.add(callback)}(appConfig,callback),function(){!function(appConfig,callback){var key=getKey(appConfig),callbackSet=fidChangeCallbacks.get(key);callbackSet&&(callbackSet.delete(callback),0===callbackSet.size&&fidChangeCallbacks.delete(key),closeBroadcastChannel())}(appConfig,callback)}}(dependencies,callback)}}}),\"PUBLIC\")),instance.registerVersion(\"@firebase/installations\",\"0.4.19\");var dist_index_esm_a,tslib_es6_assign=function(){return(tslib_es6_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function tslib_es6_awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function tslib_es6_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function tslib_es6_values(o){var s=\"function\"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&\"number\"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function tslib_es6_read(o,n){var m=\"function\"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}var ERROR_MAP=((dist_index_esm_a={})[\"missing-app-config-values\"]='Missing App configuration value: \"{$valueName}\"',dist_index_esm_a[\"only-available-in-window\"]=\"This method is available in a Window context.\",dist_index_esm_a[\"only-available-in-sw\"]=\"This method is available in a service worker context.\",dist_index_esm_a[\"permission-default\"]=\"The notification permission was not granted and dismissed instead.\",dist_index_esm_a[\"permission-blocked\"]=\"The notification permission was not granted and blocked instead.\",dist_index_esm_a[\"unsupported-browser\"]=\"This browser doesn't support the API's required to use the firebase SDK.\",dist_index_esm_a[\"failed-service-worker-registration\"]=\"We are unable to register the default service worker. {$browserErrorMessage}\",dist_index_esm_a[\"token-subscribe-failed\"]=\"A problem occurred while subscribing the user to FCM: {$errorInfo}\",dist_index_esm_a[\"token-subscribe-no-token\"]=\"FCM returned no token when subscribing the user to push.\",dist_index_esm_a[\"token-unsubscribe-failed\"]=\"A problem occurred while unsubscribing the user from FCM: {$errorInfo}\",dist_index_esm_a[\"token-update-failed\"]=\"A problem occurred while updating the user from FCM: {$errorInfo}\",dist_index_esm_a[\"token-update-no-token\"]=\"FCM returned no token when updating the user to push.\",dist_index_esm_a[\"use-sw-after-get-token\"]=\"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.\",dist_index_esm_a[\"invalid-sw-registration\"]=\"The input to useServiceWorker() must be a ServiceWorkerRegistration.\",dist_index_esm_a[\"invalid-bg-handler\"]=\"The input to setBackgroundMessageHandler() must be a function.\",dist_index_esm_a[\"invalid-vapid-key\"]=\"The public VAPID key must be a string.\",dist_index_esm_a[\"use-vapid-key-after-get-token\"]=\"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.\",dist_index_esm_a),index_esm_ERROR_FACTORY=new util_dist_index_esm.b(\"messaging\",\"Messaging\",ERROR_MAP),DEFAULT_VAPID_KEY=\"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4\",MessageType=function(MessageType){return MessageType.PUSH_RECEIVED=\"push-received\",MessageType.NOTIFICATION_CLICKED=\"notification-clicked\",MessageType}({});function arrayToBase64(array){var uint8Array=new Uint8Array(array);return btoa(String.fromCharCode.apply(String,function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(tslib_es6_read(arguments[i]));return ar}(uint8Array))).replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function base64ToArray(base64String){for(var base64=(base64String+\"=\".repeat((4-base64String.length%4)%4)).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),rawData=atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray}function migrateOldDatabase(senderId){return tslib_es6_awaiter(this,void 0,void 0,(function(){var tokenDetails,_this=this;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return\"databases\"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!_a.sent().map((function(db){return db.name})).includes(\"fcm_token_details_db\"))return[2,null];_a.label=2;case 2:return tokenDetails=null,[4,Object(idb.openDb)(\"fcm_token_details_db\",5,(function(db){return tslib_es6_awaiter(_this,void 0,void 0,(function(){var objectStore,value,oldDetails,_a;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return db.oldVersion<2?[2]:db.objectStoreNames.contains(\"fcm_token_object_Store\")?[4,(objectStore=db.transaction.objectStore(\"fcm_token_object_Store\")).index(\"fcmSenderId\").get(senderId)]:[2];case 1:return value=_b.sent(),[4,objectStore.clear()];case 2:if(_b.sent(),!value)return[2];if(2===db.oldVersion){if(!(oldDetails=value).auth||!oldDetails.p256dh||!oldDetails.endpoint)return[2];tokenDetails={token:oldDetails.fcmToken,createTime:null!==(_a=oldDetails.createTime)&&void 0!==_a?_a:Date.now(),subscriptionOptions:{auth:oldDetails.auth,p256dh:oldDetails.p256dh,endpoint:oldDetails.endpoint,swScope:oldDetails.swScope,vapidKey:\"string\"==typeof oldDetails.vapidKey?oldDetails.vapidKey:arrayToBase64(oldDetails.vapidKey)}}}else 3===db.oldVersion?tokenDetails={token:(oldDetails=value).fcmToken,createTime:oldDetails.createTime,subscriptionOptions:{auth:arrayToBase64(oldDetails.auth),p256dh:arrayToBase64(oldDetails.p256dh),endpoint:oldDetails.endpoint,swScope:oldDetails.swScope,vapidKey:arrayToBase64(oldDetails.vapidKey)}}:4===db.oldVersion&&(tokenDetails={token:(oldDetails=value).fcmToken,createTime:oldDetails.createTime,subscriptionOptions:{auth:arrayToBase64(oldDetails.auth),p256dh:arrayToBase64(oldDetails.p256dh),endpoint:oldDetails.endpoint,swScope:oldDetails.swScope,vapidKey:arrayToBase64(oldDetails.vapidKey)}});return[2]}}))}))}))];case 3:return _a.sent().close(),[4,Object(idb.deleteDb)(\"fcm_token_details_db\")];case 4:return _a.sent(),[4,Object(idb.deleteDb)(\"fcm_vapid_details_db\")];case 5:return _a.sent(),[4,Object(idb.deleteDb)(\"undefined\")];case 6:return _a.sent(),[2,checkTokenDetails(tokenDetails)?tokenDetails:null]}}))}))}function checkTokenDetails(tokenDetails){if(!tokenDetails||!tokenDetails.subscriptionOptions)return!1;var subscriptionOptions=tokenDetails.subscriptionOptions;return\"number\"==typeof tokenDetails.createTime&&tokenDetails.createTime>0&&\"string\"==typeof tokenDetails.token&&tokenDetails.token.length>0&&\"string\"==typeof subscriptionOptions.auth&&subscriptionOptions.auth.length>0&&\"string\"==typeof subscriptionOptions.p256dh&&subscriptionOptions.p256dh.length>0&&\"string\"==typeof subscriptionOptions.endpoint&&subscriptionOptions.endpoint.length>0&&\"string\"==typeof subscriptionOptions.swScope&&subscriptionOptions.swScope.length>0&&\"string\"==typeof subscriptionOptions.vapidKey&&subscriptionOptions.vapidKey.length>0}var index_esm_dbPromise=null;function index_esm_getDbPromise(){return index_esm_dbPromise||(index_esm_dbPromise=Object(idb.openDb)(\"firebase-messaging-database\",1,(function(upgradeDb){switch(upgradeDb.oldVersion){case 0:upgradeDb.createObjectStore(\"firebase-messaging-store\")}}))),index_esm_dbPromise}function dbGet(firebaseDependencies){return tslib_es6_awaiter(this,void 0,void 0,(function(){var key,tokenDetails,oldTokenDetails;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return key=index_esm_getKey(firebaseDependencies),[4,index_esm_getDbPromise()];case 1:return[4,_a.sent().transaction(\"firebase-messaging-store\").objectStore(\"firebase-messaging-store\").get(key)];case 2:return(tokenDetails=_a.sent())?[2,tokenDetails]:[3,3];case 3:return[4,migrateOldDatabase(firebaseDependencies.appConfig.senderId)];case 4:return(oldTokenDetails=_a.sent())?[4,dbSet(firebaseDependencies,oldTokenDetails)]:[3,6];case 5:return _a.sent(),[2,oldTokenDetails];case 6:return[2]}}))}))}function dbSet(firebaseDependencies,tokenDetails){return tslib_es6_awaiter(this,void 0,void 0,(function(){var key,db,tx;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return key=index_esm_getKey(firebaseDependencies),[4,index_esm_getDbPromise()];case 1:return db=_a.sent(),[4,(tx=db.transaction(\"firebase-messaging-store\",\"readwrite\")).objectStore(\"firebase-messaging-store\").put(tokenDetails,key)];case 2:return _a.sent(),[4,tx.complete];case 3:return _a.sent(),[2,tokenDetails]}}))}))}function dbRemove(firebaseDependencies){return tslib_es6_awaiter(this,void 0,void 0,(function(){var key,db,tx;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return key=index_esm_getKey(firebaseDependencies),[4,index_esm_getDbPromise()];case 1:return db=_a.sent(),[4,(tx=db.transaction(\"firebase-messaging-store\",\"readwrite\")).objectStore(\"firebase-messaging-store\").delete(key)];case 2:return _a.sent(),[4,tx.complete];case 3:return _a.sent(),[2]}}))}))}function index_esm_getKey(_a){return _a.appConfig.appId}function requestGetToken(firebaseDependencies,subscriptionOptions){return tslib_es6_awaiter(this,void 0,void 0,(function(){var headers,body,subscribeOptions,responseData,err_1;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,index_esm_getHeaders(firebaseDependencies)];case 1:headers=_a.sent(),body=getBody(subscriptionOptions),subscribeOptions={method:\"POST\",headers:headers,body:JSON.stringify(body)},_a.label=2;case 2:return _a.trys.push([2,5,,6]),[4,fetch(getEndpoint(firebaseDependencies.appConfig),subscribeOptions)];case 3:return[4,_a.sent().json()];case 4:return responseData=_a.sent(),[3,6];case 5:throw err_1=_a.sent(),index_esm_ERROR_FACTORY.create(\"token-subscribe-failed\",{errorInfo:err_1});case 6:if(responseData.error)throw index_esm_ERROR_FACTORY.create(\"token-subscribe-failed\",{errorInfo:responseData.error.message});if(!responseData.token)throw index_esm_ERROR_FACTORY.create(\"token-subscribe-no-token\");return[2,responseData.token]}}))}))}function requestUpdateToken(firebaseDependencies,tokenDetails){return tslib_es6_awaiter(this,void 0,void 0,(function(){var headers,body,updateOptions,responseData,err_2;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,index_esm_getHeaders(firebaseDependencies)];case 1:headers=_a.sent(),body=getBody(tokenDetails.subscriptionOptions),updateOptions={method:\"PATCH\",headers:headers,body:JSON.stringify(body)},_a.label=2;case 2:return _a.trys.push([2,5,,6]),[4,fetch(getEndpoint(firebaseDependencies.appConfig)+\"/\"+tokenDetails.token,updateOptions)];case 3:return[4,_a.sent().json()];case 4:return responseData=_a.sent(),[3,6];case 5:throw err_2=_a.sent(),index_esm_ERROR_FACTORY.create(\"token-update-failed\",{errorInfo:err_2});case 6:if(responseData.error)throw index_esm_ERROR_FACTORY.create(\"token-update-failed\",{errorInfo:responseData.error.message});if(!responseData.token)throw index_esm_ERROR_FACTORY.create(\"token-update-no-token\");return[2,responseData.token]}}))}))}function requestDeleteToken(firebaseDependencies,token){return tslib_es6_awaiter(this,void 0,void 0,(function(){var headers,unsubscribeOptions,responseData,err_3;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,index_esm_getHeaders(firebaseDependencies)];case 1:headers=_a.sent(),unsubscribeOptions={method:\"DELETE\",headers:headers},_a.label=2;case 2:return _a.trys.push([2,5,,6]),[4,fetch(getEndpoint(firebaseDependencies.appConfig)+\"/\"+token,unsubscribeOptions)];case 3:return[4,_a.sent().json()];case 4:if((responseData=_a.sent()).error)throw index_esm_ERROR_FACTORY.create(\"token-unsubscribe-failed\",{errorInfo:responseData.error.message});return[3,6];case 5:throw err_3=_a.sent(),index_esm_ERROR_FACTORY.create(\"token-unsubscribe-failed\",{errorInfo:err_3});case 6:return[2]}}))}))}function getEndpoint(_a){return\"https://fcmregistrations.googleapis.com/v1/projects/\"+_a.projectId+\"/registrations\"}function index_esm_getHeaders(_a){var appConfig=_a.appConfig,installations=_a.installations;return tslib_es6_awaiter(this,void 0,void 0,(function(){var authToken;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return[4,installations.getToken()];case 1:return authToken=_b.sent(),[2,new Headers({\"Content-Type\":\"application/json\",Accept:\"application/json\",\"x-goog-api-key\":appConfig.apiKey,\"x-goog-firebase-installations-auth\":\"FIS \"+authToken})]}}))}))}function getBody(_a){var vapidKey=_a.vapidKey,body={web:{endpoint:_a.endpoint,auth:_a.auth,p256dh:_a.p256dh}};return vapidKey!==DEFAULT_VAPID_KEY&&(body.web.applicationPubKey=vapidKey),body}function index_esm_getToken(firebaseDependencies,swRegistration,vapidKey){return tslib_es6_awaiter(this,void 0,void 0,(function(){var pushSubscription,tokenDetails,subscriptionOptions,e_1;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:if(\"granted\"!==Notification.permission)throw index_esm_ERROR_FACTORY.create(\"permission-blocked\");return[4,getPushSubscription(swRegistration,vapidKey)];case 1:return pushSubscription=_a.sent(),[4,dbGet(firebaseDependencies)];case 2:return tokenDetails=_a.sent(),subscriptionOptions={vapidKey:vapidKey,swScope:swRegistration.scope,endpoint:pushSubscription.endpoint,auth:arrayToBase64(pushSubscription.getKey(\"auth\")),p256dh:arrayToBase64(pushSubscription.getKey(\"p256dh\"))},tokenDetails?[3,3]:[2,getNewToken(firebaseDependencies,subscriptionOptions)];case 3:if(isEndpointEqual=(currentOptions=subscriptionOptions).endpoint===(dbOptions=tokenDetails.subscriptionOptions).endpoint,currentOptions.vapidKey===dbOptions.vapidKey&&isEndpointEqual&&currentOptions.auth===dbOptions.auth&&currentOptions.p256dh===dbOptions.p256dh)return[3,8];_a.label=4;case 4:return _a.trys.push([4,6,,7]),[4,requestDeleteToken(firebaseDependencies,tokenDetails.token)];case 5:return _a.sent(),[3,7];case 6:return e_1=_a.sent(),console.warn(e_1),[3,7];case 7:return[2,getNewToken(firebaseDependencies,subscriptionOptions)];case 8:return Date.now()>=tokenDetails.createTime+6048e5?[2,updateToken({token:tokenDetails.token,createTime:Date.now(),subscriptionOptions:subscriptionOptions},firebaseDependencies,swRegistration)]:[2,tokenDetails.token];case 9:return[2]}var dbOptions,currentOptions,isEndpointEqual}))}))}function deleteToken(firebaseDependencies,swRegistration){return tslib_es6_awaiter(this,void 0,void 0,(function(){var tokenDetails,pushSubscription;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,dbGet(firebaseDependencies)];case 1:return(tokenDetails=_a.sent())?[4,requestDeleteToken(firebaseDependencies,tokenDetails.token)]:[3,4];case 2:return _a.sent(),[4,dbRemove(firebaseDependencies)];case 3:_a.sent(),_a.label=4;case 4:return[4,swRegistration.pushManager.getSubscription()];case 5:return(pushSubscription=_a.sent())?[2,pushSubscription.unsubscribe()]:[2,!0]}}))}))}function updateToken(tokenDetails,firebaseDependencies,swRegistration){return tslib_es6_awaiter(this,void 0,void 0,(function(){var updatedToken,updatedTokenDetails,e_2;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,5]),[4,requestUpdateToken(firebaseDependencies,tokenDetails)];case 1:return updatedToken=_a.sent(),updatedTokenDetails=tslib_es6_assign(tslib_es6_assign({},tokenDetails),{token:updatedToken,createTime:Date.now()}),[4,dbSet(firebaseDependencies,updatedTokenDetails)];case 2:return _a.sent(),[2,updatedToken];case 3:return e_2=_a.sent(),[4,deleteToken(firebaseDependencies,swRegistration)];case 4:throw _a.sent(),e_2;case 5:return[2]}}))}))}function getNewToken(firebaseDependencies,subscriptionOptions){return tslib_es6_awaiter(this,void 0,void 0,(function(){var token,tokenDetails;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,requestGetToken(firebaseDependencies,subscriptionOptions)];case 1:return token=_a.sent(),tokenDetails={token:token,createTime:Date.now(),subscriptionOptions:subscriptionOptions},[4,dbSet(firebaseDependencies,tokenDetails)];case 2:return _a.sent(),[2,tokenDetails.token]}}))}))}function getPushSubscription(swRegistration,vapidKey){return tslib_es6_awaiter(this,void 0,void 0,(function(){var subscription;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return[4,swRegistration.pushManager.getSubscription()];case 1:return(subscription=_a.sent())?[2,subscription]:[2,swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(vapidKey)})]}}))}))}function isConsoleMessage(data){return\"object\"==typeof data&&!!data&&\"google.c.a.c_id\"in data}function index_esm_sleep(ms){return new Promise((function(resolve){setTimeout(resolve,ms)}))}var index_esm_SwController=function(){function SwController(firebaseDependencies){var _this=this;this.firebaseDependencies=firebaseDependencies,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener(\"push\",(function(e){e.waitUntil(_this.onPush(e))})),self.addEventListener(\"pushsubscriptionchange\",(function(e){e.waitUntil(_this.onSubChange(e))})),self.addEventListener(\"notificationclick\",(function(e){e.waitUntil(_this.onNotificationClick(e))}))}return Object.defineProperty(SwController.prototype,\"app\",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),SwController.prototype.setBackgroundMessageHandler=function(callback){if(this.isOnBackgroundMessageUsed=!1,!callback||\"function\"!=typeof callback)throw index_esm_ERROR_FACTORY.create(\"invalid-bg-handler\");this.bgMessageHandler=callback},SwController.prototype.onBackgroundMessage=function(nextOrObserver){var _this=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=nextOrObserver,function(){_this.bgMessageHandler=null}},SwController.prototype.getToken=function(){var _a,_b;return tslib_es6_awaiter(this,void 0,void 0,(function(){var tokenDetails;return tslib_es6_generator(this,(function(_c){switch(_c.label){case 0:return this.vapidKey?[3,2]:[4,dbGet(this.firebaseDependencies)];case 1:tokenDetails=_c.sent(),this.vapidKey=null!==(_b=null===(_a=null==tokenDetails?void 0:tokenDetails.subscriptionOptions)||void 0===_a?void 0:_a.vapidKey)&&void 0!==_b?_b:DEFAULT_VAPID_KEY,_c.label=2;case 2:return[2,index_esm_getToken(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},SwController.prototype.deleteToken=function(){return deleteToken(this.firebaseDependencies,self.registration)},SwController.prototype.requestPermission=function(){throw index_esm_ERROR_FACTORY.create(\"only-available-in-window\")},SwController.prototype.usePublicVapidKey=function(vapidKey){if(null!==this.vapidKey)throw index_esm_ERROR_FACTORY.create(\"use-vapid-key-after-get-token\");if(\"string\"!=typeof vapidKey||0===vapidKey.length)throw index_esm_ERROR_FACTORY.create(\"invalid-vapid-key\");this.vapidKey=vapidKey},SwController.prototype.useServiceWorker=function(){throw index_esm_ERROR_FACTORY.create(\"only-available-in-window\")},SwController.prototype.onMessage=function(){throw index_esm_ERROR_FACTORY.create(\"only-available-in-window\")},SwController.prototype.onTokenRefresh=function(){throw index_esm_ERROR_FACTORY.create(\"only-available-in-window\")},SwController.prototype.onPush=function(event){return tslib_es6_awaiter(this,void 0,void 0,(function(){var internalPayload,clientList,isNotificationShown,payload;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return(internalPayload=function(_a){var data=_a.data;if(!data)return null;try{return data.json()}catch(err){return null}}(event))?[4,getClientList()]:(console.debug(\"FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push.\"),[2]);case 1:return function(clientList){return clientList.some((function(client){return\"visible\"===client.visibilityState&&!client.url.startsWith(\"chrome-extension://\")}))}(clientList=_a.sent())?[2,sendMessagePayloadInternalToWindows(clientList,internalPayload)]:(isNotificationShown=!1,internalPayload.notification?[4,showNotification(wrapInternalPayload(internalPayload))]:[3,3]);case 2:_a.sent(),isNotificationShown=!0,_a.label=3;case 3:return!0===isNotificationShown&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(payload=function(internalPayload){var payload={from:internalPayload.from,collapseKey:internalPayload.collapse_key};return function(payload,messagePayloadInternal){if(messagePayloadInternal.notification){payload.notification={};var title=messagePayloadInternal.notification.title;title&&(payload.notification.title=title);var body=messagePayloadInternal.notification.body;body&&(payload.notification.body=body);var image=messagePayloadInternal.notification.image;image&&(payload.notification.image=image)}}(payload,internalPayload),function(payload,messagePayloadInternal){messagePayloadInternal.data&&(payload.data=messagePayloadInternal.data)}(payload,internalPayload),function(payload,messagePayloadInternal){if(messagePayloadInternal.fcmOptions){payload.fcmOptions={};var link=messagePayloadInternal.fcmOptions.link;link&&(payload.fcmOptions.link=link);var analyticsLabel=messagePayloadInternal.fcmOptions.analytics_label;analyticsLabel&&(payload.fcmOptions.analyticsLabel=analyticsLabel)}}(payload,internalPayload),payload}(internalPayload),\"function\"==typeof this.bgMessageHandler?this.bgMessageHandler(payload):this.bgMessageHandler.next(payload)),[4,index_esm_sleep(1e3)]);case 4:return _a.sent(),[2]}}))}))},SwController.prototype.onSubChange=function(event){var _a,_b;return tslib_es6_awaiter(this,void 0,void 0,(function(){var tokenDetails;return tslib_es6_generator(this,(function(_c){switch(_c.label){case 0:return event.newSubscription?[3,2]:[4,deleteToken(this.firebaseDependencies,self.registration)];case 1:return _c.sent(),[2];case 2:return[4,dbGet(this.firebaseDependencies)];case 3:return tokenDetails=_c.sent(),[4,deleteToken(this.firebaseDependencies,self.registration)];case 4:return _c.sent(),[4,index_esm_getToken(this.firebaseDependencies,self.registration,null!==(_b=null===(_a=null==tokenDetails?void 0:tokenDetails.subscriptionOptions)||void 0===_a?void 0:_a.vapidKey)&&void 0!==_b?_b:DEFAULT_VAPID_KEY)];case 5:return _c.sent(),[2]}}))}))},SwController.prototype.onNotificationClick=function(event){var _a,_b;return tslib_es6_awaiter(this,void 0,void 0,(function(){var internalPayload,link,url,originUrl,client;return tslib_es6_generator(this,(function(_c){switch(_c.label){case 0:return(internalPayload=null===(_b=null===(_a=event.notification)||void 0===_a?void 0:_a.data)||void 0===_b?void 0:_b.FCM_MSG)?event.action?[2]:(event.stopImmediatePropagation(),event.notification.close(),(link=function(payload){var _a,_b,_c;return(null!==(_b=null===(_a=payload.fcmOptions)||void 0===_a?void 0:_a.link)&&void 0!==_b?_b:null===(_c=payload.notification)||void 0===_c?void 0:_c.click_action)||(isConsoleMessage(payload.data)?self.location.origin:null)}(internalPayload))?(url=new URL(link,self.location.href),originUrl=new URL(self.location.origin),url.host!==originUrl.host?[2]:[4,getWindowClient(url)]):[2]):[2];case 1:return(client=_c.sent())?[3,4]:[4,self.clients.openWindow(link)];case 2:return client=_c.sent(),[4,index_esm_sleep(3e3)];case 3:return _c.sent(),[3,6];case 4:return[4,client.focus()];case 5:client=_c.sent(),_c.label=6;case 6:return client?(internalPayload.messageType=MessageType.NOTIFICATION_CLICKED,internalPayload.isFirebaseMessaging=!0,[2,client.postMessage(internalPayload)]):[2]}}))}))},SwController}();function wrapInternalPayload(internalPayload){var _a,wrappedInternalPayload=tslib_es6_assign({},internalPayload.notification);return wrappedInternalPayload.data=((_a={}).FCM_MSG=internalPayload,_a),wrappedInternalPayload}function getWindowClient(url){return tslib_es6_awaiter(this,void 0,void 0,(function(){var clientList,clientList_1,clientList_1_1,client,clientUrl,e_1,_a;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return[4,getClientList()];case 1:clientList=_b.sent();try{for(clientList_1=tslib_es6_values(clientList),clientList_1_1=clientList_1.next();!clientList_1_1.done;clientList_1_1=clientList_1.next())if(client=clientList_1_1.value,clientUrl=new URL(client.url,self.location.href),url.host===clientUrl.host)return[2,client]}catch(e_1_1){e_1={error:e_1_1}}finally{try{clientList_1_1&&!clientList_1_1.done&&(_a=clientList_1.return)&&_a.call(clientList_1)}finally{if(e_1)throw e_1.error}}return[2,null]}}))}))}function sendMessagePayloadInternalToWindows(clientList,internalPayload){var e_2,_a;internalPayload.isFirebaseMessaging=!0,internalPayload.messageType=MessageType.PUSH_RECEIVED;try{for(var clientList_2=tslib_es6_values(clientList),clientList_2_1=clientList_2.next();!clientList_2_1.done;clientList_2_1=clientList_2.next())clientList_2_1.value.postMessage(internalPayload)}catch(e_2_1){e_2={error:e_2_1}}finally{try{clientList_2_1&&!clientList_2_1.done&&(_a=clientList_2.return)&&_a.call(clientList_2)}finally{if(e_2)throw e_2.error}}}function getClientList(){return self.clients.matchAll({type:\"window\",includeUncontrolled:!0})}function showNotification(notificationPayloadInternal){var _a,actions=notificationPayloadInternal.actions,maxActions=Notification.maxActions;return actions&&maxActions&&actions.length>maxActions&&console.warn(\"This browser only supports \"+maxActions+\" actions. The remaining actions will not be displayed.\"),self.registration.showNotification(null!==(_a=notificationPayloadInternal.title)&&void 0!==_a?_a:\"\",notificationPayloadInternal)}var index_esm_WindowController=function(){function WindowController(firebaseDependencies){var _this=this;this.firebaseDependencies=firebaseDependencies,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener(\"message\",(function(e){return _this.messageEventListener(e)}))}return Object.defineProperty(WindowController.prototype,\"app\",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),WindowController.prototype.messageEventListener=function(event){return tslib_es6_awaiter(this,void 0,void 0,(function(){var internalPayload,dataPayload;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return(internalPayload=event.data).isFirebaseMessaging?(this.onMessageCallback&&internalPayload.messageType===MessageType.PUSH_RECEIVED&&(\"function\"==typeof this.onMessageCallback?this.onMessageCallback(function(internalPayload){return delete internalPayload.messageType,delete internalPayload.isFirebaseMessaging,internalPayload}(Object.assign({},internalPayload))):this.onMessageCallback.next(Object.assign({},internalPayload))),isConsoleMessage(dataPayload=internalPayload.data)&&\"1\"===dataPayload[\"google.c.a.e\"]?[4,this.logEvent(internalPayload.messageType,dataPayload)]:[3,2]):[2];case 1:_a.sent(),_a.label=2;case 2:return[2]}}))}))},WindowController.prototype.getVapidKey=function(){return this.vapidKey},WindowController.prototype.getSwReg=function(){return this.swRegistration},WindowController.prototype.getToken=function(options){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return\"default\"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:_a.sent(),_a.label=2;case 2:if(\"granted\"!==Notification.permission)throw index_esm_ERROR_FACTORY.create(\"permission-blocked\");return[4,this.updateVapidKey(null==options?void 0:options.vapidKey)];case 3:return _a.sent(),[4,this.updateSwReg(null==options?void 0:options.serviceWorkerRegistration)];case 4:return _a.sent(),[2,index_esm_getToken(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},WindowController.prototype.updateVapidKey=function(vapidKey){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){return vapidKey?this.vapidKey=vapidKey:this.vapidKey||(this.vapidKey=DEFAULT_VAPID_KEY),[2]}))}))},WindowController.prototype.updateSwReg=function(swRegistration){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return swRegistration||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:_a.sent(),_a.label=2;case 2:if(!swRegistration&&this.swRegistration)return[2];if(!(swRegistration instanceof ServiceWorkerRegistration))throw index_esm_ERROR_FACTORY.create(\"invalid-sw-registration\");return this.swRegistration=swRegistration,[2]}}))}))},WindowController.prototype.registerDefaultSw=function(){return tslib_es6_awaiter(this,void 0,void 0,(function(){var _a,e_1;return tslib_es6_generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),_a=this,[4,navigator.serviceWorker.register(\"/firebase-messaging-sw.js\",{scope:\"/firebase-cloud-messaging-push-scope\"})];case 1:return _a.swRegistration=_b.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e_1=_b.sent(),index_esm_ERROR_FACTORY.create(\"failed-service-worker-registration\",{browserErrorMessage:e_1.message});case 3:return[2]}}))}))},WindowController.prototype.deleteToken=function(){return tslib_es6_awaiter(this,void 0,void 0,(function(){return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:_a.sent(),_a.label=2;case 2:return[2,deleteToken(this.firebaseDependencies,this.swRegistration)]}}))}))},WindowController.prototype.requestPermission=function(){return tslib_es6_awaiter(this,void 0,void 0,(function(){var permissionResult;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return\"granted\"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if(\"granted\"===(permissionResult=_a.sent()))return[2];throw index_esm_ERROR_FACTORY.create(\"denied\"===permissionResult?\"permission-blocked\":\"permission-default\")}}))}))},WindowController.prototype.usePublicVapidKey=function(vapidKey){if(null!==this.vapidKey)throw index_esm_ERROR_FACTORY.create(\"use-vapid-key-after-get-token\");if(\"string\"!=typeof vapidKey||0===vapidKey.length)throw index_esm_ERROR_FACTORY.create(\"invalid-vapid-key\");this.vapidKey=vapidKey},WindowController.prototype.useServiceWorker=function(swRegistration){if(!(swRegistration instanceof ServiceWorkerRegistration))throw index_esm_ERROR_FACTORY.create(\"invalid-sw-registration\");if(this.swRegistration)throw index_esm_ERROR_FACTORY.create(\"use-sw-after-get-token\");this.swRegistration=swRegistration},WindowController.prototype.onMessage=function(nextOrObserver){var _this=this;return this.onMessageCallback=nextOrObserver,function(){_this.onMessageCallback=null}},WindowController.prototype.setBackgroundMessageHandler=function(){throw index_esm_ERROR_FACTORY.create(\"only-available-in-sw\")},WindowController.prototype.onBackgroundMessage=function(){throw index_esm_ERROR_FACTORY.create(\"only-available-in-sw\")},WindowController.prototype.onTokenRefresh=function(){return function(){}},WindowController.prototype.logEvent=function(messageType,data){return tslib_es6_awaiter(this,void 0,void 0,(function(){var eventType;return tslib_es6_generator(this,(function(_a){switch(_a.label){case 0:return eventType=function(messageType){switch(messageType){case MessageType.NOTIFICATION_CLICKED:return\"notification_open\";case MessageType.PUSH_RECEIVED:return\"notification_foreground\";default:throw new Error}}(messageType),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return _a.sent().logEvent(eventType,{message_id:data[\"google.c.a.c_id\"],message_name:data[\"google.c.a.c_l\"],message_time:data[\"google.c.a.ts\"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},WindowController}();function index_esm_getMissingValueError(valueName){return index_esm_ERROR_FACTORY.create(\"missing-app-config-values\",{valueName:valueName})}var NAMESPACE_EXPORTS={isSupported:isSupported};function isSupported(){return self&&\"ServiceWorkerGlobalScope\"in self?\"indexedDB\"in self&&null!==indexedDB&&\"PushManager\"in self&&\"Notification\"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\"):\"indexedDB\"in window&&null!==indexedDB&&navigator.cookieEnabled&&\"serviceWorker\"in navigator&&\"PushManager\"in window&&\"Notification\"in window&&\"fetch\"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\")}index_esm.a.INTERNAL.registerComponent(new dist_index_esm.a(\"messaging\",(function(container){var app=container.getProvider(\"app\").getImmediate(),firebaseDependencies={app:app,appConfig:function(app){var e_1,_a;if(!app||!app.options)throw index_esm_getMissingValueError(\"App Configuration Object\");if(!app.name)throw index_esm_getMissingValueError(\"App Name\");var options=app.options;try{for(var configKeys_1=tslib_es6_values([\"projectId\",\"apiKey\",\"appId\",\"messagingSenderId\"]),configKeys_1_1=configKeys_1.next();!configKeys_1_1.done;configKeys_1_1=configKeys_1.next()){var keyName=configKeys_1_1.value;if(!options[keyName])throw index_esm_getMissingValueError(keyName)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{configKeys_1_1&&!configKeys_1_1.done&&(_a=configKeys_1.return)&&_a.call(configKeys_1)}finally{if(e_1)throw e_1.error}}return{appName:app.name,projectId:options.projectId,apiKey:options.apiKey,appId:options.appId,senderId:options.messagingSenderId}}(app),installations:container.getProvider(\"installations\").getImmediate(),analyticsProvider:container.getProvider(\"analytics-internal\")};if(!isSupported())throw index_esm_ERROR_FACTORY.create(\"unsupported-browser\");return self&&\"ServiceWorkerGlobalScope\"in self?new index_esm_SwController(firebaseDependencies):new index_esm_WindowController(firebaseDependencies)}),\"PUBLIC\").setServiceProps(NAMESPACE_EXPORTS))},nbvr:function(module,exports,__webpack_require__){!function(exports){\"use strict\";function toArray(arr){return Array.prototype.slice.call(arr)}function promisifyRequest(request){return new Promise((function(resolve,reject){request.onsuccess=function(){resolve(request.result)},request.onerror=function(){reject(request.error)}}))}function promisifyRequestCall(obj,method,args){var request,p=new Promise((function(resolve,reject){promisifyRequest(request=obj[method].apply(obj,args)).then(resolve,reject)}));return p.request=request,p}function promisifyCursorRequestCall(obj,method,args){var p=promisifyRequestCall(obj,method,args);return p.then((function(value){if(value)return new Cursor(value,p.request)}))}function proxyProperties(ProxyClass,targetProp,properties){properties.forEach((function(prop){Object.defineProperty(ProxyClass.prototype,prop,{get:function(){return this[targetProp][prop]},set:function(val){this[targetProp][prop]=val}})}))}function proxyRequestMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach((function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return promisifyRequestCall(this[targetProp],prop,arguments)})}))}function proxyMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach((function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return this[targetProp][prop].apply(this[targetProp],arguments)})}))}function proxyCursorRequestMethods(ProxyClass,targetProp,Constructor,properties){properties.forEach((function(prop){prop in Constructor.prototype&&(ProxyClass.prototype[prop]=function(){return promisifyCursorRequestCall(this[targetProp],prop,arguments)})}))}function Index(index){this._index=index}function Cursor(cursor,request){this._cursor=cursor,this._request=request}function ObjectStore(store){this._store=store}function Transaction(idbTransaction){this._tx=idbTransaction,this.complete=new Promise((function(resolve,reject){idbTransaction.oncomplete=function(){resolve()},idbTransaction.onerror=function(){reject(idbTransaction.error)},idbTransaction.onabort=function(){reject(idbTransaction.error)}}))}function UpgradeDB(db,oldVersion,transaction){this._db=db,this.oldVersion=oldVersion,this.transaction=new Transaction(transaction)}function DB(db){this._db=db}proxyProperties(Index,\"_index\",[\"name\",\"keyPath\",\"multiEntry\",\"unique\"]),proxyRequestMethods(Index,\"_index\",IDBIndex,[\"get\",\"getKey\",\"getAll\",\"getAllKeys\",\"count\"]),proxyCursorRequestMethods(Index,\"_index\",IDBIndex,[\"openCursor\",\"openKeyCursor\"]),proxyProperties(Cursor,\"_cursor\",[\"direction\",\"key\",\"primaryKey\",\"value\"]),proxyRequestMethods(Cursor,\"_cursor\",IDBCursor,[\"update\",\"delete\"]),[\"advance\",\"continue\",\"continuePrimaryKey\"].forEach((function(methodName){methodName in IDBCursor.prototype&&(Cursor.prototype[methodName]=function(){var cursor=this,args=arguments;return Promise.resolve().then((function(){return cursor._cursor[methodName].apply(cursor._cursor,args),promisifyRequest(cursor._request).then((function(value){if(value)return new Cursor(value,cursor._request)}))}))})})),ObjectStore.prototype.createIndex=function(){return new Index(this._store.createIndex.apply(this._store,arguments))},ObjectStore.prototype.index=function(){return new Index(this._store.index.apply(this._store,arguments))},proxyProperties(ObjectStore,\"_store\",[\"name\",\"keyPath\",\"indexNames\",\"autoIncrement\"]),proxyRequestMethods(ObjectStore,\"_store\",IDBObjectStore,[\"put\",\"add\",\"delete\",\"clear\",\"get\",\"getAll\",\"getKey\",\"getAllKeys\",\"count\"]),proxyCursorRequestMethods(ObjectStore,\"_store\",IDBObjectStore,[\"openCursor\",\"openKeyCursor\"]),proxyMethods(ObjectStore,\"_store\",IDBObjectStore,[\"deleteIndex\"]),Transaction.prototype.objectStore=function(){return new ObjectStore(this._tx.objectStore.apply(this._tx,arguments))},proxyProperties(Transaction,\"_tx\",[\"objectStoreNames\",\"mode\"]),proxyMethods(Transaction,\"_tx\",IDBTransaction,[\"abort\"]),UpgradeDB.prototype.createObjectStore=function(){return new ObjectStore(this._db.createObjectStore.apply(this._db,arguments))},proxyProperties(UpgradeDB,\"_db\",[\"name\",\"version\",\"objectStoreNames\"]),proxyMethods(UpgradeDB,\"_db\",IDBDatabase,[\"deleteObjectStore\",\"close\"]),DB.prototype.transaction=function(){return new Transaction(this._db.transaction.apply(this._db,arguments))},proxyProperties(DB,\"_db\",[\"name\",\"version\",\"objectStoreNames\"]),proxyMethods(DB,\"_db\",IDBDatabase,[\"close\"]),[\"openCursor\",\"openKeyCursor\"].forEach((function(funcName){[ObjectStore,Index].forEach((function(Constructor){funcName in Constructor.prototype&&(Constructor.prototype[funcName.replace(\"open\",\"iterate\")]=function(){var args=toArray(arguments),callback=args[args.length-1],nativeObject=this._store||this._index,request=nativeObject[funcName].apply(nativeObject,args.slice(0,-1));request.onsuccess=function(){callback(request.result)}})}))})),[Index,ObjectStore].forEach((function(Constructor){Constructor.prototype.getAll||(Constructor.prototype.getAll=function(query,count){var instance=this,items=[];return new Promise((function(resolve){instance.iterateCursor(query,(function(cursor){cursor?(items.push(cursor.value),void 0===count||items.length!=count?cursor.continue():resolve(items)):resolve(items)}))}))})})),exports.openDb=function(name,version,upgradeCallback){var p=promisifyRequestCall(indexedDB,\"open\",[name,version]),request=p.request;return request&&(request.onupgradeneeded=function(event){upgradeCallback&&upgradeCallback(new UpgradeDB(request.result,event.oldVersion,request.transaction))}),p.then((function(db){return new DB(db)}))},exports.deleteDb=function(name){return promisifyRequestCall(indexedDB,\"deleteDatabase\",[name])},Object.defineProperty(exports,\"__esModule\",{value:!0})}(exports)}}]);","extractedComments":[]}